#! /bin/bash
if [[ $# -ne 1 ]]
then
    echo "Invalid number of arguments"
    echo "Usage: mkpico <project-name>"
    exit 1
fi

name=$1
pwd=`pwd`

if [[ -d $pwd/$name ]]
then
    echo "Directory exists"
    exit 1
fi

#echo $pwd

mkdir $pwd/$name
cp -r /etc/mkpico/* $pwd/$name/

sed -i "s/PROJECT_NAME example/PROJECT_NAME $name/g" $pwd/$name/CMakeLists.txt

